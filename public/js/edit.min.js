var Bag=function(){this.clearAll=function(a){a.preventDefault();for(var b in window.PRODUCTS)window.PRODUCTS[b].drop().render();localStorage.clear()}},DeleteProductForm=function(){var a=this;this.formItems=$(".DeleteProductForm"),this.construct=function(){a.formItems.on("submit",a.onFormSubmit)},this.onFormSubmit=function(a){$(this).hasClass("warning")||(a.preventDefault(),$(this).addClass("warning"))},this.construct()},PrintFrame=function(){var a=this;this.iframe=$("#print-frame")[0],this.refresh=function(){var b=new $.Deferred;return a.iframe.src=a.iframe.src,$(a.iframe).on("load",b.resolve),b.promise()},this.print=function(){a.iframe.contentWindow.print()}},Product=function(a){var b=this;this.container=a,this.trash=this.container.find(".remove"),this.noteContainer=this.container.find(".note"),this.note=this.noteContainer.find("input"),this.ID=parseInt(this.container.attr("data-pid")),this.active=!1,this.noteContent="",this.construct=function(){b.container.on("click",b.onItemClick),b.trash.on("click",b.onTrashClick),b.note.on("blur",b.onNoteBlur)},this.take=function(){return b.active=!0,b},this.drop=function(){return b.active=!1,b},this.setNote=function(){var a=arguments.length?arguments[0]:b.note.val();return b.noteContent=a,b},this.render=function(){b.active?(b.container.addClass("selected"),localStorage.setItem(b.ID,b.noteContent),b.note.val(b.noteContent)):(b.container.removeClass("selected"),localStorage.removeItem(b.ID))},this.onNoteBlur=function(a){a.preventDefault();var c=b.note.val();c!==b.noteContent&&b.setNote(c).render()},this.onItemClick=function(a){a.preventDefault(),b.note.focus(),b.take().render()},this.onTrashClick=function(a){a.preventDefault(),a.stopPropagation(),b.drop().render()},this.construct()},Trash=function(){var a=this;this.items=[],this.fill=function(){if(localStorage.length)for(var b=0;b<localStorage.length;b++){var c=parseInt(localStorage.key(b));if(!isNaN(c))if("false"!==localStorage.getItem(c)){if(!(c in window.PRODUCTS))continue;window.PRODUCTS[c].take().setNote(localStorage.getItem(c)).render(),"true"!==localStorage.getItem(c)&&window.PRODUCTS[c].setNote(localStorage.getItem(c))}else a.items.push(c)}},this.empty=function(){if(a.items.length||a.fill(),a.items.length)for(var b=0;b<a.items.length;b++)localStorage.removeItem(a.items[b])}};$(function(){new DeleteProductForm});
//# sourceMappingURL=edit.min.js.map